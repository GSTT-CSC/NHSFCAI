<div class="container-fluid">
    <div class="row">
        <!-- Sidebar with Bootstrap Tabs -->
        <div class="col-md-4 col-lg-3 pb-3">
            <div id="scrollspy1" style="background-color: #eee" class="sticky-top">
                <!-- Logo Box -->
                <div class="text-center p-3" style="background-color: white;">
                    <img src="/assets/img/fcai_logo.png" alt="Logo" class="img-fluid w-100">
                </div>

                <ul class="nav flex-column nav-pills menu-sidebar" id="navbar" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="fcaiinfo-tab" data-toggle="tab" href="#fcaiinfo" role="tab"
                           data-url="/fellowship_info.html">Further information</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="apply-tab" data-toggle="tab" href="#apply" role="tab"
                           data-url="/fellowship_apply.html">Apply</a>

                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="fellows-tab" data-toggle="tab" href="#fellows" role="tab"
                           data-url="/fellowship_fellows.html">Fellows & alumni</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="fellowspublications-tab" data-toggle="tab" href="#fellowspublications" role="tab"
                           data-url="/fellowship_publications.html">Fellows' publications</a>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Tab Content Area -->
        <div class="col-md-8 col-lg-9">
            <div class="tab-content">
                <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                    <p>
                        The NHS Fellowship in Clinical AI is a 12-month programme integrated part-time alongside clinical work.
                        Clinical AI fellows are recruited competitively from across the NHS, drawn from a diverse clinical workforce
                        including medical and dental specialty trainees, nurses & midwives, allied health professionals, pharmacy
                        professionals, and optometrists.
                    </p>
                    <p>
                        Our fellows are smart and energetic individuals who will be equipped to adopt clinical artificial intelligence technology
                        through our <a href="/assets/docs/FCAI_Curriculum_v3.2.pdf">focused clinical AI curriculum</a>. Fellows gain experience
                        deploying AI in clinical workflows in 12-month project placements, under expert supervision in multidisciplinary teams.
                    </p>
                    <p>
                        This unique programme is featured as an exemplar in upskilling clinicians for AI transformation in both the
                        <a href="/assets/docs/nhs-long-term-workforce-plan-v1.2.pdf#page=74"><em>NHS Long Term Workforce Plan (2023)</em></a>
                        and the NHS Transformation Directorate report,
                        <a href="/assets/docs/developingconfidenceinai-oct2022.pdf#page=68"><em>Developing Healthcare Workers' Confidence in AI (2022)</em></a>.
                        The fellowship builds directly from the recommendation of the
                        <a href="https://topol.hee.nhs.uk/wp-content/uploads/HEE-Topol-Review-2019.pdf#page=8"><em>Topol Review (2019)</em></a>
                        to create posts for clinicians with dedicated time to implement AI technologies.
                    </p>
                </div>
                <div class="tab-pane fade" id="fcaiinfo" role="tabpanel" aria-labelledby="fcaiinfo-tab"></div>
                <div class="tab-pane fade" id="apply" role="tabpanel" aria-labelledby="apply-tab"></div>
                <div class="tab-pane fade" id="fellows" role="tabpanel" aria-labelledby="fellows-tab"></div>
                <div class="tab-pane fade" id="fellowspublications" role="tabpanel" aria-labelledby="fellowspublications-tab"></div>
            </div>
        </div>
    </div>


<!-- jQuery (Full Version, Not Slim) -->
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

<!-- Bootstrap 4 JS (Matches the Working Page) -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

<!-- Deep Linking (Optional, If Used in the Working Page) -->
<script src="assets/js/deeplinking.js"></script>

<!-- JavaScript to Fix Tab Loading) -->
<script>
    $(document).ready(function () {
        console.log("Bootstrap 4 tabs initialized.");

        $('.nav-link[data-toggle="tab"]').on('shown.bs.tab', function (e) {
            var target = $(e.target).attr('href'); // Get the target tab ID
            var url = $(e.target).data('url'); // Get the static page URL

            console.log("Tab clicked:", target, "URL:", url);

            // If URL exists and tab is empty, fetch content safely
            if (url && $(target).is(':empty')) {
                console.log("Fetching content from:", url);

                fetch(url)
                    .then(response => {
                        if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);
                        return response.text();
                    })
                    .then(html => {
                        var tempDiv = $("<div>").html(html);
                        var newContent = tempDiv.find("body").length ? tempDiv.find("body").html() : html;

                        $(target).html(newContent);

                        // ðŸ‘‡ Insert this line to call initializeFilters
                        if (document.getElementById('filters')) {
                            initializeFilters();
                        }

                        console.log("Content loaded successfully into", target);
                    })
                    .catch(error => {
                        console.error("Error loading", url, error);
                        $(target).html(`<p>Error loading content. <a href='${url}'>Click here</a> to view the full page.</p>`);
                    });
            }
        });

        if (window.location.hash) {
            $('a[href="' + window.location.hash + '"]').tab('show');
        }
    });
</script>

    </div>